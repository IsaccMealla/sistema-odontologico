# Generated by Django 5.2.8 on 2025-12-03 03:58

import django.db.models.deletion
import django.utils.timezone
from django.db import migrations, models


class Migration(migrations.Migration):

    dependencies = [
        ('coreapi', '0006_alter_usuarios_options'),
    ]

    operations = [
        migrations.AlterModelOptions(
            name='contactosemergencia',
            options={'managed': True},
        ),
        migrations.AddField(
            model_name='usuarios',
            name='apellidos',
            field=models.CharField(blank=True, max_length=100, null=True),
        ),
        migrations.AddField(
            model_name='usuarios',
            name='codigo_docente',
            field=models.CharField(blank=True, max_length=20, null=True, unique=True),
        ),
        migrations.AddField(
            model_name='usuarios',
            name='codigo_estudiante',
            field=models.CharField(blank=True, max_length=20, null=True, unique=True),
        ),
        migrations.AddField(
            model_name='usuarios',
            name='deleted_at',
            field=models.DateTimeField(blank=True, null=True),
        ),
        migrations.AddField(
            model_name='usuarios',
            name='deleted_by',
            field=models.CharField(blank=True, max_length=100, null=True),
        ),
        migrations.AddField(
            model_name='usuarios',
            name='especialidad',
            field=models.CharField(blank=True, max_length=100, null=True),
        ),
        migrations.AddField(
            model_name='usuarios',
            name='is_deleted',
            field=models.BooleanField(default=False),
        ),
        migrations.AddField(
            model_name='usuarios',
            name='materia',
            field=models.CharField(blank=True, max_length=100, null=True),
        ),
        migrations.AddField(
            model_name='usuarios',
            name='nombres',
            field=models.CharField(blank=True, max_length=100, null=True),
        ),
        migrations.AddField(
            model_name='usuarios',
            name='semestre',
            field=models.IntegerField(blank=True, null=True),
        ),
        migrations.CreateModel(
            name='Asignaciones',
            fields=[
                ('id', models.CharField(max_length=36, primary_key=True, serialize=False)),
                ('materia', models.CharField(max_length=100)),
                ('fecha_asignacion', models.DateTimeField(default=django.utils.timezone.now)),
                ('fecha_finalizacion', models.DateTimeField(blank=True, null=True)),
                ('estado', models.CharField(choices=[('activa', 'Activa'), ('en_progreso', 'En Progreso'), ('completada', 'Completada'), ('cancelada', 'Cancelada')], default='activa', max_length=20)),
                ('observaciones', models.TextField(blank=True, null=True)),
                ('creado_en', models.DateTimeField(default=django.utils.timezone.now)),
                ('is_deleted', models.BooleanField(default=False)),
                ('deleted_at', models.DateTimeField(blank=True, null=True)),
                ('deleted_by', models.CharField(blank=True, max_length=100, null=True)),
                ('docente', models.ForeignKey(db_column='docente_id', limit_choices_to={'is_deleted': False}, on_delete=django.db.models.deletion.RESTRICT, related_name='asignaciones_docente', to='coreapi.usuarios')),
                ('estudiante', models.ForeignKey(db_column='estudiante_id', limit_choices_to={'is_deleted': False}, on_delete=django.db.models.deletion.RESTRICT, related_name='asignaciones_estudiante', to='coreapi.usuarios')),
                ('paciente', models.ForeignKey(db_column='paciente_id', limit_choices_to={'is_deleted': False}, on_delete=django.db.models.deletion.RESTRICT, related_name='asignaciones_paciente', to='coreapi.pacientes')),
            ],
            options={
                'db_table': 'asignaciones',
                'ordering': ['-fecha_asignacion'],
                'managed': True,
            },
        ),
        migrations.CreateModel(
            name='RegistroCirugiaBucal',
            fields=[
                ('id', models.CharField(max_length=36, primary_key=True, serialize=False)),
                ('fecha_registro', models.DateTimeField(auto_now_add=True)),
                ('evaluacion_quirurgica', models.JSONField(blank=True, default=dict)),
                ('evaluacion_anestesica', models.JSONField(blank=True, default=dict)),
                ('registro_operatorio', models.JSONField(blank=True, default=dict)),
                ('control_postoperatorio', models.JSONField(blank=True, default=list)),
                ('fecha_aprobacion', models.DateTimeField(blank=True, null=True)),
                ('observaciones_docente', models.TextField(blank=True, null=True)),
                ('estado', models.CharField(default='pendiente', max_length=20)),
                ('is_deleted', models.BooleanField(default=False)),
                ('deleted_at', models.DateTimeField(blank=True, null=True)),
                ('deleted_by', models.CharField(blank=True, max_length=100, null=True)),
                ('aprobado_por', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='cirugias_aprobadas', to='coreapi.usuarios')),
                ('estudiante', models.ForeignKey(db_column='estudiante_id', on_delete=django.db.models.deletion.CASCADE, related_name='cirugias_realizadas', to='coreapi.usuarios')),
                ('historial', models.ForeignKey(db_column='historial_id', on_delete=django.db.models.deletion.CASCADE, to='coreapi.historialesclinicos')),
                ('paciente', models.ForeignKey(db_column='paciente_id', on_delete=django.db.models.deletion.CASCADE, to='coreapi.pacientes')),
            ],
            options={
                'db_table': 'registro_cirugia_bucal',
                'ordering': ['-fecha_registro'],
                'managed': True,
            },
        ),
        migrations.CreateModel(
            name='RegistroOdontopediatria',
            fields=[
                ('id', models.CharField(max_length=36, primary_key=True, serialize=False)),
                ('fecha_registro', models.DateTimeField(auto_now_add=True)),
                ('ficha_psicosocial', models.JSONField(blank=True, default=dict)),
                ('odontograma_infantil', models.JSONField(blank=True, default=dict)),
                ('guia_erupcional', models.JSONField(blank=True, default=dict)),
                ('tratamientos_realizados', models.JSONField(blank=True, default=list)),
                ('fecha_aprobacion', models.DateTimeField(blank=True, null=True)),
                ('observaciones_docente', models.TextField(blank=True, null=True)),
                ('estado', models.CharField(default='pendiente', max_length=20)),
                ('is_deleted', models.BooleanField(default=False)),
                ('deleted_at', models.DateTimeField(blank=True, null=True)),
                ('deleted_by', models.CharField(blank=True, max_length=100, null=True)),
                ('aprobado_por', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='odontopediatrias_aprobadas', to='coreapi.usuarios')),
                ('estudiante', models.ForeignKey(db_column='estudiante_id', on_delete=django.db.models.deletion.CASCADE, related_name='odontopediatrias_realizadas', to='coreapi.usuarios')),
                ('historial', models.ForeignKey(db_column='historial_id', on_delete=django.db.models.deletion.CASCADE, to='coreapi.historialesclinicos')),
                ('paciente', models.ForeignKey(db_column='paciente_id', on_delete=django.db.models.deletion.CASCADE, to='coreapi.pacientes')),
            ],
            options={
                'db_table': 'registro_odontopediatria',
                'ordering': ['-fecha_registro'],
                'managed': True,
            },
        ),
        migrations.CreateModel(
            name='RegistroOperatoriaEndodoncia',
            fields=[
                ('id', models.CharField(max_length=36, primary_key=True, serialize=False)),
                ('pieza_dental', models.CharField(max_length=5)),
                ('fecha_registro', models.DateTimeField(auto_now_add=True)),
                ('diagnostico_pulpar', models.CharField(blank=True, max_length=100)),
                ('diagnostico_periapical', models.CharField(blank=True, max_length=100)),
                ('pruebas_sensibilidad', models.JSONField(blank=True, default=dict)),
                ('radiografia_pre', models.TextField(blank=True, null=True)),
                ('radiografia_trans', models.TextField(blank=True, null=True)),
                ('radiografia_post', models.TextField(blank=True, null=True)),
                ('ficha_operatoria', models.JSONField(blank=True, default=dict)),
                ('tratamiento_endodontico', models.JSONField(blank=True, default=dict)),
                ('fecha_aprobacion', models.DateTimeField(blank=True, null=True)),
                ('observaciones_docente', models.TextField(blank=True, null=True)),
                ('estado', models.CharField(default='pendiente', max_length=20)),
                ('is_deleted', models.BooleanField(default=False)),
                ('deleted_at', models.DateTimeField(blank=True, null=True)),
                ('deleted_by', models.CharField(blank=True, max_length=100, null=True)),
                ('aprobado_por', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='operatorias_aprobadas', to='coreapi.usuarios')),
                ('estudiante', models.ForeignKey(db_column='estudiante_id', on_delete=django.db.models.deletion.CASCADE, related_name='operatorias_realizadas', to='coreapi.usuarios')),
                ('historial', models.ForeignKey(db_column='historial_id', on_delete=django.db.models.deletion.CASCADE, to='coreapi.historialesclinicos')),
                ('paciente', models.ForeignKey(db_column='paciente_id', on_delete=django.db.models.deletion.CASCADE, to='coreapi.pacientes')),
            ],
            options={
                'db_table': 'registro_operatoria_endodoncia',
                'ordering': ['-fecha_registro'],
                'managed': True,
            },
        ),
        migrations.CreateModel(
            name='RegistroPeriodoncia',
            fields=[
                ('id', models.CharField(max_length=36, primary_key=True, serialize=False)),
                ('fecha_registro', models.DateTimeField(auto_now_add=True)),
                ('periodontograma_datos', models.JSONField(blank=True, default=dict)),
                ('indice_hios', models.DecimalField(blank=True, decimal_places=2, max_digits=5, null=True)),
                ('indice_loe_silness', models.DecimalField(blank=True, decimal_places=2, max_digits=5, null=True)),
                ('indice_gingival', models.DecimalField(blank=True, decimal_places=2, max_digits=5, null=True)),
                ('plan_terapia_basica', models.JSONField(blank=True, default=dict)),
                ('plan_terapia_quirurgica', models.JSONField(blank=True, default=dict)),
                ('controles_mantenimiento', models.JSONField(blank=True, default=list)),
                ('fecha_aprobacion', models.DateTimeField(blank=True, null=True)),
                ('observaciones_docente', models.TextField(blank=True, null=True)),
                ('estado', models.CharField(default='pendiente', max_length=20)),
                ('is_deleted', models.BooleanField(default=False)),
                ('deleted_at', models.DateTimeField(blank=True, null=True)),
                ('deleted_by', models.CharField(blank=True, max_length=100, null=True)),
                ('aprobado_por', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='periodoncias_aprobadas', to='coreapi.usuarios')),
                ('estudiante', models.ForeignKey(db_column='estudiante_id', on_delete=django.db.models.deletion.CASCADE, related_name='periodoncias_realizadas', to='coreapi.usuarios')),
                ('historial', models.ForeignKey(db_column='historial_id', on_delete=django.db.models.deletion.CASCADE, to='coreapi.historialesclinicos')),
                ('paciente', models.ForeignKey(db_column='paciente_id', on_delete=django.db.models.deletion.CASCADE, to='coreapi.pacientes')),
            ],
            options={
                'db_table': 'registro_periodoncia',
                'ordering': ['-fecha_registro'],
                'managed': True,
            },
        ),
        migrations.CreateModel(
            name='RegistroProstodonciaFija',
            fields=[
                ('id', models.CharField(max_length=36, primary_key=True, serialize=False)),
                ('fecha_registro', models.DateTimeField(auto_now_add=True)),
                ('evaluacion_pilares', models.JSONField(blank=True, default=dict)),
                ('preparacion_provisionales', models.JSONField(blank=True, default=dict)),
                ('materiales_laboratorio', models.JSONField(blank=True, default=dict)),
                ('prueba_cementacion', models.JSONField(blank=True, default=dict)),
                ('fecha_aprobacion', models.DateTimeField(blank=True, null=True)),
                ('observaciones_docente', models.TextField(blank=True, null=True)),
                ('estado', models.CharField(default='pendiente', max_length=20)),
                ('is_deleted', models.BooleanField(default=False)),
                ('deleted_at', models.DateTimeField(blank=True, null=True)),
                ('deleted_by', models.CharField(blank=True, max_length=100, null=True)),
                ('aprobado_por', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='prostodoncia_fija_aprobadas', to='coreapi.usuarios')),
                ('estudiante', models.ForeignKey(db_column='estudiante_id', on_delete=django.db.models.deletion.CASCADE, related_name='prostodoncia_fija_realizadas', to='coreapi.usuarios')),
                ('historial', models.ForeignKey(db_column='historial_id', on_delete=django.db.models.deletion.CASCADE, to='coreapi.historialesclinicos')),
                ('paciente', models.ForeignKey(db_column='paciente_id', on_delete=django.db.models.deletion.CASCADE, to='coreapi.pacientes')),
            ],
            options={
                'db_table': 'registro_prostodoncia_fija',
                'ordering': ['-fecha_registro'],
                'managed': True,
            },
        ),
        migrations.CreateModel(
            name='RegistroProstodonciaRemovible',
            fields=[
                ('id', models.CharField(max_length=36, primary_key=True, serialize=False)),
                ('fecha_registro', models.DateTimeField(auto_now_add=True)),
                ('diseno_protesico', models.JSONField(blank=True, default=dict)),
                ('pruebas_clinicas', models.JSONField(blank=True, default=list)),
                ('registro_laboratorio', models.JSONField(blank=True, default=dict)),
                ('controles_adaptacion', models.JSONField(blank=True, default=list)),
                ('fecha_aprobacion', models.DateTimeField(blank=True, null=True)),
                ('observaciones_docente', models.TextField(blank=True, null=True)),
                ('estado', models.CharField(default='pendiente', max_length=20)),
                ('is_deleted', models.BooleanField(default=False)),
                ('deleted_at', models.DateTimeField(blank=True, null=True)),
                ('deleted_by', models.CharField(blank=True, max_length=100, null=True)),
                ('aprobado_por', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='prostodoncia_removible_aprobadas', to='coreapi.usuarios')),
                ('estudiante', models.ForeignKey(db_column='estudiante_id', on_delete=django.db.models.deletion.CASCADE, related_name='prostodoncia_removible_realizadas', to='coreapi.usuarios')),
                ('historial', models.ForeignKey(db_column='historial_id', on_delete=django.db.models.deletion.CASCADE, to='coreapi.historialesclinicos')),
                ('paciente', models.ForeignKey(db_column='paciente_id', on_delete=django.db.models.deletion.CASCADE, to='coreapi.pacientes')),
            ],
            options={
                'db_table': 'registro_prostodoncia_removible',
                'ordering': ['-fecha_registro'],
                'managed': True,
            },
        ),
        migrations.CreateModel(
            name='RegistroSemiologia',
            fields=[
                ('id', models.CharField(max_length=36, primary_key=True, serialize=False)),
                ('fecha_registro', models.DateTimeField(auto_now_add=True)),
                ('lesiones_orales', models.JSONField(blank=True, default=list)),
                ('imagenes', models.JSONField(blank=True, default=list)),
                ('referencias', models.TextField(blank=True, null=True)),
                ('biopsias', models.JSONField(blank=True, default=list)),
                ('fecha_aprobacion', models.DateTimeField(blank=True, null=True)),
                ('observaciones_docente', models.TextField(blank=True, null=True)),
                ('estado', models.CharField(default='pendiente', max_length=20)),
                ('is_deleted', models.BooleanField(default=False)),
                ('deleted_at', models.DateTimeField(blank=True, null=True)),
                ('deleted_by', models.CharField(blank=True, max_length=100, null=True)),
                ('aprobado_por', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='semiologias_aprobadas', to='coreapi.usuarios')),
                ('estudiante', models.ForeignKey(db_column='estudiante_id', on_delete=django.db.models.deletion.CASCADE, related_name='semiologias_realizadas', to='coreapi.usuarios')),
                ('historial', models.ForeignKey(db_column='historial_id', on_delete=django.db.models.deletion.CASCADE, to='coreapi.historialesclinicos')),
                ('paciente', models.ForeignKey(db_column='paciente_id', on_delete=django.db.models.deletion.CASCADE, to='coreapi.pacientes')),
            ],
            options={
                'db_table': 'registro_semiologia',
                'ordering': ['-fecha_registro'],
                'managed': True,
            },
        ),
    ]
